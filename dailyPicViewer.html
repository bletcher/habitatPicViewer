<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fish Data Visualizations | SHEDS</title>

  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="libs/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="libs/landing-page/css/landing-page.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="libs/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="libs/leaflet/dist/leaflet.css" rel="stylesheet" type="text/css">

  <style>
    body, h1, h2, h3, h4, h5, h6 {
      font-weight: 400;
      font-family: "Open Sans", Helvetica, Arial, sans-serif !important;
    }

    .top-section {
      background: #222;
      color: white;
    }
    
    .funding-section img {
      margin: 10px 25px 10px 25px;
    }


    div.tooltip {
      position: absolute;
      padding: 8px;
      font: 12px sans-serif;
      background: #C6C6C6;
      pointer-events: none;
      height: auto;
      width: 480px;
      text-align: center;
    }
    
    .object-fit_contain { object-fit: contain }
    
    img[class] { 
      width: 100%;
    }
    
    img2 {height:10%; width:10%; }
    
  </style>
</head>
<body>

  <div style="border-bottom: 2px solid #e7e7e7;background:#f8f8f8">
    <div class="container">
      <div class="row" style="margin-top: 20px; margin-bottom: 20px">
        <div class="col-xs-12">
          <h1>Daily pictures viewer</h1>
        </div>
      </div>
    </div>
  </div>


  <div class="content-section-b top-section">
    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-md-12">

          <h2>Sawmill River from the Montague Conservation Area bridge</h2>
          <div class="row" style="margin-top: 50px; margin-bottom: 20px">
            <div id="flickr-images_sawmill"></div>
          </div>  

        </div>
      </div>
    </div>
  </div>

  <div class="content-section-b">
    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-md-12">

          <h2>Sawmill River from the Montague Conservation Area bridge</h2>
          <div class="row" style="margin-top: 50px; margin-bottom: 20px">
            <div id="flickr-images_consArea"></div>
          </div>  

        </div>
      </div>
    </div>
  </div>


  <div class="content-section-b">
    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-md-8">
          <h2>Project Team</h2>
          <p>Ben Letcher  </p>

        </div>
      </div>
    </div>
  </div>


  <footer>
    <div class="container">
      <div class="row">
        <div class="col-xs-12">
          <p class="copyright text-muted">Copyright Â© 2016 SHEDS Development Team</p>
          <p class="copyright text-muted"><strong>Disclaimer:</strong> This web site (SHEDS) has not yet been approved by the U.S. Geological Survey (USGS). As such, it does not represent any official USGS finding or policy.</p>
        </div>
      </div>
    </div>
  </footer>



<script src="libs/leaflet/dist/leaflet.js"></script>
<script src="libs/d3/d3.min.js"></script>


<script src="/libs/jquery/dist/jquery.min.js"></script>
<script src="/libs/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/libs/intro.js/minified/intro.min.js"></script>


<script>


///////
//  
// http://www.lovelldsouza.com/webdev/flickr-to-website/


function getImgs(URL,setID,setName) {
 /* var URL = "https://api.flickr.com/services/rest/" +  // Wake up the Flickr API gods.
    "?method=flickr.photosets.getPhotos" +  // Get photo from a photoset. http://www.flickr.com/services/api/flickr.photosets.getPhotos.htm
    "&api_key=24de00e7e4e35d259296d8ed2a48a92e" +  // API key. Get one here: http://www.flickr.com/services/apps/create/apply/
    "&photoset_id=" + setID +  // The set ID.
    "&user_id=155284079@N03" +
  //  "&privacy_filter=1" +  // 1 signifies all public photos.
  //  "&per_page=20" + // For the sake of this example I am limiting it to 20 photos.
    "&format=json&nojsoncallback=1"
    ;  // Er, nothing much to explain here.
*/

  // from the flickr api page
//  var URL = "https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key=64a26f21daab706970e0469aca3863e8&photoset_id=72157681488505313&user_id=155284079%40N03&format=json&nojsoncallback=1&auth_token=72157681511036103-7624bb4989cf303b&api_sig=2332d217519f0e16dd29342546f2dc6e"

//  var URL = "https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&photoset_id=72157681488505313&user_id=155284079%40N03&format=json&nojsoncallback=1" //&secret=e53455ffee17a4d2"


  console.log(URL);

  // See the API in action here: http://www.flickr.com/services/api/explore/flickr.photosets.getPhotos
  $.getJSON(URL, function(data){
    $.each(data.photoset.photo, function(i, item){
      // Creating the image URL. Info: http://www.flickr.com/services/api/misc.urls.html
      var img_src = "http://farm" + item.farm + ".static.flickr.com/" + item.server + "/" + item.id + "_" + item.secret + "_m.jpg";
      var img_thumb = $("<img/>").attr("src", img_src).css("margin", "1px").css("width", "7.5%")
      $(img_thumb).appendTo("#flickr-images" + setName);
      
      //console.log(img_src)
      console.log(img_thumb)
      
/*      img
        .on("mouseover", function(d) {
        d3.select(this)
          .css("width", "20%")
          
          
          .style("stroke", "red")
          .style("fill", "lightgrey");
        
        //var ext = new RegExp('jpg', 'i');
        var fileName = "img/" + d.river + "_" + app.state.selectedYear + "_" + app.state.selectedSeason + "_" + d.section + ".JPG";
        
        tooltip.html('<h3>River = ' + d.riverFull + ", Section = " + d.section + '</h3><br><img class="object-fit-contain" src= ' + 
                                                                                                                           fileName + 
                                                                                                                           ' onerror="imgError(this);"/' +  
                                                                                                                           '>')
           .style("right", "80px")// (d3.event.pageX + 15) + "px")
           .style("top",  "200px")// (d3.event.pageY - 15) + "px")
           .transition()
           .duration(100)
           .style("opacity", 1);
      })
  */    
    });
  });
}


sawmillURL = "https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key=a2c875aae5b778785643d935a972153f&photoset_id=72157681488505313&user_id=155284079%40N03&format=json&nojsoncallback=1&auth_token=72157682313512441-870fd9f137e50594&api_sig=2b5d88b1c7ed10b1b4b001305b141941"

consAreaURL = " https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key=a2c875aae5b778785643d935a972153f&photoset_id=72157681560511503&user_id=155284079%40N03&format=json&nojsoncallback=1&auth_token=72157682313512441-870fd9f137e50594&api_sig=069817a64623ea67dbe90bbd1475014b"

$(document).ready(function() {
  getImgs(sawmillURL,"72157681488505313","_sawmill"); // Call the function!
  getImgs(consAreaURL,"72157681488505313","_consArea"); // Call the function!
});



</script>

</body>
</html>

